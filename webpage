<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Crypto Prices – BTC, ETH, SOL, BNB, ZEC</title>

  <style>
    :root {
      --box-max-width: 550px;
      --gap: 40px;
      --coin-name-size: 24px;
      --coin-name-size-large: 26px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: sans-serif;
      background: #0a0a0f;
      color: #e2e8f0;
      min-height: 100vh;
      padding: 40px 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--gap);
    }

    .coin-container {
      width: 100%;
      max-width: var(--box-max-width);
      text-align: center;
    }

    .coin-name {
      font-size: 28px;
      font-weight: 600;
      color: #b7b7b7;
      margin-bottom: 10px;
    }

    .coin {
      padding: 20px;                    
      text-align: center;
      width: 100%;
      overflow: hidden;
      position: relative;
      background: rgba(15, 23, 42, 0.4);
      border-radius: 12px;
      border: 1px solid #334155;
    }

    .price-text {
      font-size: 30px !important;
      font-weight: 400;                 
      letter-spacing: -0.6px;
      line-height: 1.1;
      white-space: nowrap;
      display: block;
    }

    .price-number {
      font-weight: 400;                 
    }

    .usd {
      color: #38bdf8;
      font-weight: 800;                 
      font-size: 30px !important;
    }

    .change {
      font-size: 30px !important;
      font-weight: 400;                
      margin-left: 6px;
    }

    .up .price-number,
    .up .change {
      color: #22c55e;
    }

    .up .usd {
      color: #38bdf8;                   
    }

    .down .price-number,
    .down .change {
      color: #ef4444;
    }

    .down .usd {
      color: #38bdf8;
    }

    .neutral .price-number,
    .neutral .usd,
    .neutral .change {
      color: #38bdf8;
    }

    .status {
      margin-top: 32px;
      text-align: center;
      font-size: 15px;
      color: #64748b;
    }

    @media (min-width: 640px) {
      body {
        padding: 48px 16px;
      }
      .coin-name {
        font-size: var(--coin-name-size-large);
      }
    }
  </style>
</head>
<body>

  <div class="coin-container">
    <div class="coin-name">Bitcoin (BTC)</div>
    <div class="coin" id="btc-box">
      <span class="price-text" id="btc-price">Loading...</span>
    </div>
  </div>

  <div class="coin-container">
    <div class="coin-name">Ethereum (ETH)</div>
    <div class="coin" id="eth-box">
      <span class="price-text" id="eth-price">Loading...</span>
    </div>
  </div>

  <div class="coin-container">
    <div class="coin-name">Solana (SOL)</div>
    <div class="coin" id="sol-box">
      <span class="price-text" id="sol-price">Loading...</span>
    </div>
  </div>

  <div class="coin-container">
    <div class="coin-name">Binance Coin (BNB)</div>
    <div class="coin" id="bnb-box">
      <span class="price-text" id="bnb-price">Loading...</span>
    </div>
  </div>

  <div class="coin-container">
    <div class="coin-name">Zcash (ZEC)</div>
    <div class="coin" id="zec-box">
      <span class="price-text" id="zec-price">Loading...</span>
    </div>
  </div>

  <div class="status">Live real-time via Binance • Updates as often as every second when market moves</div>

  <script>
    const coins = [
      { symbol: 'btcusdt', name: 'BTC', priceId: 'btc-price', boxId: 'btc-box' },
      { symbol: 'ethusdt', name: 'ETH', priceId: 'eth-price', boxId: 'eth-box' },
      { symbol: 'solusdt', name: 'SOL', priceId: 'sol-price', boxId: 'sol-box' },
      { symbol: 'bnbusdt', name: 'BNB', priceId: 'bnb-price', boxId: 'bnb-box' },
      { symbol: 'zecusdt', name: 'ZEC', priceId: 'zec-price', boxId: 'zec-box' }
    ];

    const previousPrices = {};

    const wsUrl = 'wss://stream.binance.com:9443/stream?streams=' + 
      coins.map(c => c.symbol + '@ticker').join('/');

    let ws;

    function connectWebSocket() {
      ws = new WebSocket(wsUrl);

      ws.onopen = () => {
        console.log('WebSocket connected');
        document.querySelector('.status').textContent = 'Live real-time via Binance • Connected';
      };

      ws.onmessage = (event) => {
        const msg = JSON.parse(event.data);
        if (!msg.data) return;

        const data = msg.data;
        const symbol = data.s.toLowerCase();
        const coin = coins.find(c => c.symbol === symbol);
        if (!coin) return;

        const currentPrice = parseFloat(data.c);
        const prevPrice = previousPrices[symbol];

        const change24h = parseFloat(data.P);
        const changeText = `(${change24h >= 0 ? '+' : ''}${change24h.toFixed(2)})`;

        const priceFormatted = currentPrice.toLocaleString('en-US', {
          minimumFractionDigits: 2,
          maximumFractionDigits: 2
        });

        let direction = 'neutral';
        if (prevPrice !== undefined) {
          if (currentPrice > prevPrice) direction = 'up';
          else if (currentPrice < prevPrice) direction = 'down';
        }

        const priceEl = document.getElementById(coin.priceId);
        priceEl.innerHTML = `
          <span class="price-number">${priceFormatted}</span>
          <span class="usd"> USD</span>
          <span class="change">${changeText}</span>
        `;

        const boxEl = document.getElementById(coin.boxId);
        boxEl.className = `coin ${direction}`;

        previousPrices[symbol] = currentPrice;
      };

      ws.onclose = () => {
        console.log('WebSocket closed – reconnecting...');
        document.querySelector('.status').textContent = 'Reconnecting...';
        setTimeout(connectWebSocket, 3000);
      };

      ws.onerror = (err) => {
        console.error('WebSocket error:', err);
      };
    }

    connectWebSocket();
  </script>

</body>
</html>
